(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f15ba636"],{"08aa":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail"},[a("top-nav",{attrs:{title:t.title,active:t.$route.query.active||-1}}),a("van-row",[a("van-col",{attrs:{span:"24"}},[a("img",{staticClass:"auto-img",attrs:{src:t.currentProduct.images.large}})]),a("van-col",{attrs:{span:"24"}},[a("van-row",{staticClass:"detail-box"},[a("van-col",{attrs:{span:"24"}},[a("div",{staticClass:"pname"},[t._v(t._s(t.currentProduct.name))])]),a("van-col",{attrs:{span:"24"}},[a("div",{staticClass:"desc"},[t._v(t._s(t.currentProduct.desc))])]),a("van-col",{attrs:{span:"24"}},[a("div",{staticClass:"price"},[t._v(t._s(t.currentProduct.price)+"元")])])],1)],1)],1),a("van-goods-action",[a("van-goods-action-big-btn",{attrs:{text:"加入购物车"},on:{click:function(e){return t.addOrBuy(0)}}}),a("van-goods-action-big-btn",{attrs:{primary:"",text:"立即购买"},on:{click:function(e){return t.addOrBuy(1)}}})],1),a("van-sku",{attrs:{sku:t.skuData.sku,goods:t.skuData.goods_info,"hide-stock":t.skuData.sku.hide_stock,"reset-stepper-on-hide":"","reset-selected-sku-on-hide":"","disable-stepper-input":"","show-add-cart-btn":!1,"close-on-click-overlay":t.closeOnClickOverlay},on:{"buy-clicked":t.onBuyClicked},scopedSlots:t._u([{key:"sku-actions",fn:function(e){return[a("div",{staticClass:"van-sku-actions"},[a("van-button",{attrs:{type:"primary","bottom-action":""},on:{click:function(t){return e.skuEventBus.$emit("sku:buy")}}},[t._v(t._s(0==t.text?"加入购物车":"立即购买"))])],1)]}}]),model:{value:t.showBase,callback:function(e){t.showBase=e},expression:"showBase"}})],1)},r=[],s=a("f499"),i=a.n(s),c=(a("f386"),a("bd86")),o=(a("66b9"),a("b650")),u=(a("e415"),a("2b5e")),l=(a("68ef"),a("5fbe"),a("c31d")),d=a("2638"),f=a.n(d),p=a("a142"),v=a("ba31"),h=a("48f4"),g=Object(p["j"])("goods-action-big-btn"),b=g[0],m=g[1];function k(t,e,a,n){var r=function(t){Object(v["a"])(n,"click",t),Object(h["a"])(n)};return t(o["a"],f()([{attrs:{square:!0,size:"large",loading:e.loading,disabled:e.disabled,type:e.primary?"danger":"warning"},class:m(),on:{click:r}},Object(v["b"])(n)]),[a["default"]?a["default"]():e.text])}k.props=Object(l["a"])({},h["c"],{text:String,primary:Boolean,loading:Boolean,disabled:Boolean});var y=b(k),S=(a("7f7f"),a("4cf9"),Object(p["j"])("goods-action")),_=S[0],I=S[1];function O(t,e,a,n){return t("div",f()([{class:I()},Object(v["b"])(n,!0)]),[a["default"]&&a["default"]()])}var N,w=_(O),x=a("5200"),C=a("e666"),P=a("3de1"),B={name:"Detail",data:function(){return this.skuData=C["a"],{userLoginStatus:null,text:0,title:"商品详情",showBase:!1,closeOnClickOverlay:!0}},components:(N={},Object(c["a"])(N,w.name,w),Object(c["a"])(N,y.name,y),Object(c["a"])(N,u["a"].name,u["a"]),Object(c["a"])(N,o["a"].name,o["a"]),Object(c["a"])(N,"top-nav",x["a"]),N),created:function(){for(var t=JSON.parse(localStorage.getItem("products")),e=0;e<t.products.length;e++)if(this.$route.params.pid==t.products[e].id){this.currentProduct=t.products[e];break}this.skuData.goods_info={picture:this.currentProduct.images.large,title:this.currentProduct.name},this.skuData.sku.list[0].goods_id=this.currentProduct.id,this.skuData.sku.list[0].price=100*this.currentProduct.price,this.skuData.sku.tree[0].v[0].name=this.currentProduct.color[0];var a=localStorage.getItem("userLogin");this.userLoginStatus=void 0==a?null:JSON.parse(a)},methods:{addOrBuy:function(t){this.userLoginStatus?this.userLoginStatus.loginStatus&&(this.text=t,this.showBase=!0):this.$toast("您尚未登录")},onBuyClicked:function(t){console.log("data ==> ",t);var e=localStorage.getItem("shopcart");e=void 0==e?[]:JSON.parse(e);var a={userId:this.userLoginStatus.userId,id:this.currentProduct.id,name:this.currentProduct.name,color:this.currentProduct.color[0],price:this.currentProduct.price,type:this.currentProduct.type,count:t.selectedNum,thumbnail:this.currentProduct.images.small,time:P["a"].format(new Date,"yyyy-MM-dd hh:mm:ss")};e.push(a),localStorage.setItem("shopcart",i()(e)),this.showBase=!1}}},E=B,j=(a("8803"),a("2877")),A=Object(j["a"])(E,n,r,!1,null,"e2129874",null);e["default"]=A.exports},"386b":function(t,e,a){var n=a("5ca1"),r=a("79e5"),s=a("be13"),i=/"/g,c=function(t,e,a,n){var r=String(s(t)),c="<"+e;return""!==a&&(c+=" "+a+'="'+String(n).replace(i,"&quot;")+'"'),c+">"+r+"</"+e+">"};t.exports=function(t,e){var a={};a[t]=e(c),n(n.P+n.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",a)}},4961:function(t,e,a){},"4cf9":function(t,e,a){},5200:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav"},[t.isHasBack?a("div",{staticClass:"back-text text",on:{click:t.back}},[a("van-icon",{attrs:{name:"arrow-left"}})],1):t._e(),a("div",{staticClass:"p-detail"},[t._v(t._s(t.title))]),t.isHasIcon?a("div",{staticClass:"edit text",on:{click:t.edit}},[a("van-icon",{attrs:{name:t.icon}})],1):t._e()])},r=[],s=(a("c5f6"),{name:"TopNav",props:{title:{type:String},icon:{type:String,default:"edit"},isHasIcon:{type:Boolean,default:!1},isHasBack:{type:Boolean,default:!0},active:{type:Number,default:-1}},methods:{back:function(){1==this.active?this.$router.push({name:"Shopcart",query:{active:this.active}}):this.$router.go(-1)},edit:function(){this.$emit("edit")}}}),i=s,c=(a("db35"),a("2877")),o=Object(c["a"])(i,n,r,!1,null,"87815526",null);e["a"]=o.exports},"5fbe":function(t,e,a){},8803:function(t,e,a){"use strict";var n=a("4961"),r=a.n(n);r.a},aa77:function(t,e,a){var n=a("5ca1"),r=a("be13"),s=a("79e5"),i=a("fdef"),c="["+i+"]",o="​",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),d=function(t,e,a){var r={},c=s(function(){return!!i[t]()||o[t]()!=o}),u=r[t]=c?e(f):i[t];a&&(r[a]=u),n(n.P+n.F*c,"String",r)},f=d.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=d},c5f6:function(t,e,a){"use strict";var n=a("7726"),r=a("69a8"),s=a("2d95"),i=a("5dbc"),c=a("6a99"),o=a("79e5"),u=a("9093").f,l=a("11e9").f,d=a("86cc").f,f=a("aa77").trim,p="Number",v=n[p],h=v,g=v.prototype,b=s(a("2aeb")(g))==p,m="trim"in String.prototype,k=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){e=m?e.trim():f(e,3);var a,n,r,s=e.charCodeAt(0);if(43===s||45===s){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var i,o=e.slice(2),u=0,l=o.length;u<l;u++)if(i=o.charCodeAt(u),i<48||i>r)return NaN;return parseInt(o,n)}}return+e};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof v&&(b?o(function(){g.valueOf.call(a)}):s(a)!=p)?i(new h(k(e)),a,v):k(e)};for(var y,S=a("9e1e")?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;S.length>_;_++)r(h,y=S[_])&&!r(v,y)&&d(v,y,l(h,y));v.prototype=g,g.constructor=v,a("2aba")(n,p,v)}},db35:function(t,e,a){"use strict";var n=a("f79f"),r=a.n(n);r.a},f386:function(t,e,a){"use strict";a("386b")("small",function(t){return function(){return t(this,"small","","")}})},f79f:function(t,e,a){},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-f15ba636.b9fdbe83.js.map