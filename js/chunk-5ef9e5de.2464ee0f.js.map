{"version":3,"sources":["webpack:///./src/components/Address.vue?58bc","webpack:///./node_modules/vant/es/radio-group/index.js","webpack:///./node_modules/vant/es/radio/index.js","webpack:///./node_modules/vant/es/address-list/Item.js","webpack:///./node_modules/vant/es/address-list/index.js","webpack:///src/components/Address.vue","webpack:///./src/components/Address.vue?dce9","webpack:///./src/components/Address.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","ref","list","addressList","on","edit","editAddress","add","addAddress","nativeOn","click","$event","toggleDefault","model","value","callback","$$v","chosenAddressId","expression","show","area-list","area","show-set-default","show-search-result","show-delete","show-postal","address-info","addressInfo","save-button-text","delete-button-text","save","cancel-text","actions","select","onSelect","editShow","staticRenderFns","_use","Object","utils","sfc","bem","radio_group","props","disabled","Boolean","watch","_value","$emit","h","class","slots","radio_use","radio_sfc","radio_bem","vant_es_radio","mixins","mixins_checkbox","computed","currentValue","get","parent","set","val","checked","name","methods","onClickIcon","isDisabled","onClickLabel","labelDisabled","Item_use","Item_sfc","Item_bem","AddressItem","ctx","switchable","renderRightIcon","icon","event","stopPropagation","functional","renderContent","data","Info","tel","address","id","cell","helper_default","unswitchable","valueClass","isLink","scopedSlots","default","right-icon","Item","address_list_use","address_list_sfc","address_list_bem","t","AddressList","getList","map","item","index","key","List","DisabledList","disabledList","top","input","disabledText","es_button","square","size","type","text","addButtonText","Array","String","Number","es_address_list","Addressvue_type_script_lang_js_","province","city","county","addressDetail","areaCode","postalCode","isDefault","data_area","userId","isEdit","components","_components","top-nav","TopNav","defineProperty","actionsheet","address_edit","created","_this","addressData","localStorage","getItem","undefined","JSON","parse","forEach","v","push","mounted","$refs","lastChild","style","zIndex","length","i","time","Date","addressId","getTime","addTime","tool","format","editTime","j","k","setItem","stringify_default","splice","components_Addressvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-5ef9e5de.2464ee0f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"address\"},[_c('top-nav',{attrs:{\"title\":\"地址管理\"}}),_c('van-address-list',{ref:\"add\",attrs:{\"list\":_vm.addressList},on:{\"edit\":_vm.editAddress,\"add\":_vm.addAddress},nativeOn:{\"click\":function($event){return _vm.toggleDefault($event)}},model:{value:(_vm.chosenAddressId),callback:function ($$v) {_vm.chosenAddressId=$$v},expression:\"chosenAddressId\"}}),_c('van-actionsheet',{model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-address-edit',{attrs:{\"area-list\":_vm.area,\"show-set-default\":\"\",\"show-search-result\":\"\",\"show-delete\":\"\",\"show-postal\":\"\",\"address-info\":_vm.addressInfo,\"save-button-text\":\"保存地址\",\"delete-button-text\":\"取消\"},on:{\"save\":_vm.save}})],1),_c('van-actionsheet',{attrs:{\"cancel-text\":\"取消\",\"actions\":_vm.actions},on:{\"select\":_vm.onSelect},model:{value:(_vm.editShow),callback:function ($$v) {_vm.editShow=$$v},expression:\"editShow\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { use } from '../utils';\n\nvar _use = use('radio-group'),\n    sfc = _use[0],\n    bem = _use[1];\n\nexport default sfc({\n  props: {\n    value: null,\n    disabled: Boolean\n  },\n  watch: {\n    value: function value(_value) {\n      this.$emit('change', _value);\n    }\n  },\n  render: function render(h) {\n    return h(\"div\", {\n      \"class\": bem()\n    }, [this.slots()]);\n  }\n});","import { use } from '../utils';\nimport { CheckboxMixin } from '../mixins/checkbox';\n\nvar _use = use('radio'),\n    sfc = _use[0],\n    bem = _use[1];\n\nexport default sfc({\n  mixins: [CheckboxMixin('van-radio-group', bem)],\n  computed: {\n    currentValue: {\n      get: function get() {\n        return this.parent ? this.parent.value : this.value;\n      },\n      set: function set(val) {\n        (this.parent || this).$emit('input', val);\n      }\n    },\n    checked: function checked() {\n      return this.currentValue === this.name;\n    }\n  },\n  methods: {\n    onClickIcon: function onClickIcon() {\n      if (!this.isDisabled) {\n        this.currentValue = this.name;\n      }\n    },\n    onClickLabel: function onClickLabel() {\n      if (!this.isDisabled && !this.labelDisabled) {\n        this.currentValue = this.name;\n      }\n    }\n  }\n});","import _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport { use } from '../utils';\nimport { emit, inherit } from '../utils/functional';\nimport Icon from '../icon';\nimport Cell from '../cell';\nimport Radio from '../radio'; // Types\n\nvar _use = use('address-item'),\n    sfc = _use[0],\n    bem = _use[1];\n\nfunction AddressItem(h, props, slots, ctx) {\n  var disabled = props.disabled,\n      switchable = props.switchable;\n\n  var renderRightIcon = function renderRightIcon() {\n    return h(Icon, {\n      \"attrs\": {\n        \"name\": \"edit\"\n      },\n      \"class\": bem('edit'),\n      \"on\": {\n        \"click\": function click(event) {\n          event.stopPropagation();\n          emit(ctx, 'edit');\n        }\n      }\n    });\n  };\n\n  var renderContent = function renderContent() {\n    var data = props.data;\n    var Info = [h(\"div\", {\n      \"class\": bem('name')\n    }, [data.name + \"\\uFF0C\" + data.tel]), h(\"div\", {\n      \"class\": bem('address')\n    }, [data.address])];\n    return props.switchable ? h(Radio, {\n      \"attrs\": {\n        \"name\": data.id\n      }\n    }, [Info]) : Info;\n  };\n\n  var onSelect = function onSelect() {\n    if (props.switchable) {\n      emit(ctx, 'select');\n    }\n  };\n\n  return h(Cell, _mergeJSXProps([{\n    \"class\": bem({\n      disabled: disabled,\n      unswitchable: !switchable\n    }),\n    \"attrs\": {\n      \"valueClass\": bem('value'),\n      \"isLink\": !disabled && switchable\n    },\n    \"scopedSlots\": {\n      \"default\": renderContent,\n      'right-icon': renderRightIcon\n    },\n    \"on\": {\n      \"click\": onSelect\n    }\n  }, inherit(ctx)]));\n}\n\nAddressItem.props = {\n  data: Object,\n  disabled: Boolean,\n  switchable: Boolean\n};\nexport default sfc(AddressItem);","import _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport { use } from '../utils';\nimport { emit, inherit } from '../utils/functional';\nimport Button from '../button';\nimport RadioGroup from '../radio-group';\nimport AddressItem from './Item'; // Types\n\nvar _use = use('address-list'),\n    sfc = _use[0],\n    bem = _use[1],\n    t = _use[2];\n\nfunction AddressList(h, props, slots, ctx) {\n  var getList = function getList(list, disabled) {\n    return list.map(function (item, index) {\n      return h(AddressItem, {\n        \"attrs\": {\n          \"data\": item,\n          \"disabled\": disabled,\n          \"switchable\": props.switchable && !disabled\n        },\n        \"key\": item.id,\n        \"on\": {\n          \"select\": function select() {\n            emit(ctx, disabled ? 'select-disabled' : 'select', item, index);\n          },\n          \"edit\": function edit() {\n            emit(ctx, disabled ? 'edit-disabled' : 'edit', item, index);\n          }\n        }\n      });\n    });\n  };\n\n  var List = getList(props.list);\n  var DisabledList = getList(props.disabledList, true);\n  return h(\"div\", _mergeJSXProps([{\n    \"class\": bem()\n  }, inherit(ctx)]), [slots.top && slots.top(), h(RadioGroup, {\n    \"attrs\": {\n      \"value\": props.value\n    },\n    \"on\": {\n      \"input\": function input(event) {\n        emit(ctx, 'input', event);\n      }\n    }\n  }, [List]), props.disabledText && h(\"div\", {\n    \"class\": bem('disabled-text')\n  }, [props.disabledText]), DisabledList, slots[\"default\"] && slots[\"default\"](), h(Button, {\n    \"attrs\": {\n      \"square\": true,\n      \"size\": \"large\",\n      \"type\": \"danger\",\n      \"text\": props.addButtonText || t('add')\n    },\n    \"class\": bem('add'),\n    \"on\": {\n      \"click\": function click() {\n        emit(ctx, 'add');\n      }\n    }\n  })]);\n}\n\nAddressList.props = {\n  list: Array,\n  disabledList: Array,\n  disabledText: String,\n  addButtonText: String,\n  value: [String, Number],\n  switchable: {\n    type: Boolean,\n    \"default\": true\n  }\n};\nexport default sfc(AddressList);","<template>\r\n\t<div class=\"address\">\r\n\t\t<top-nav title=\"地址管理\"></top-nav>\r\n\r\n\t\t<van-address-list\r\n\t\t  v-model=\"chosenAddressId\"\r\n\t\t  ref=\"add\"\r\n\t\t  :list=\"addressList\"\r\n\t\t  @edit=\"editAddress\"\r\n\t\t  @add=\"addAddress\"\r\n\t\t  @click.native=\"toggleDefault\"\r\n\t\t />\r\n\r\n\t\t<van-actionsheet v-model=\"show\">\r\n\t\t\t<van-address-edit\r\n\t\t\t  :area-list=\"area\"\r\n\t\t\t  show-set-default\r\n\t\t\t  show-search-result\r\n\t\t\t  show-delete\r\n\t\t\t  show-postal\r\n\t\t\t  :address-info=\"addressInfo\"\r\n\t\t\t  save-button-text=\"保存地址\"\r\n\t\t\t  delete-button-text=\"取消\"\r\n\t\t\t  @save=\"save\"\r\n\t\t\t/>\r\n\t\t</van-actionsheet>\r\n\r\n\r\n\t\t<van-actionsheet v-model=\"editShow\" cancel-text=\"取消\" :actions=\"actions\" @select=\"onSelect\">\r\n\t\t</van-actionsheet>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\r\n\timport TopNav from '../components/TopNav'\r\n\r\n\timport { AddressList, Actionsheet, AddressEdit } from 'vant'\r\n\r\n\timport area from '../data/area.js'\r\n\r\n\timport date from '../utils/tool.js'\r\n\r\n\texport default {\r\n\t\tname: 'Address',\r\n\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t//上拉菜单框\r\n\t\t\t\tshow: false,\r\n\r\n\t\t\t\teditShow: false,\r\n\r\n\t\t\t\tactions: [\r\n\t        {\r\n\t          name: '编辑地址'\r\n\t        },\r\n\t        {\r\n\t          name: '删除地址',\r\n\t        }\r\n      \t],\r\n\r\n      \taddressInfo: {\r\n      \t\tid: '',\r\n      \t\tname: '',\r\n      \t\ttel: '',\r\n      \t\tprovince: '',\r\n      \t\tcity: '',\r\n      \t\tcounty: '',\r\n      \t\taddressDetail: '',\r\n      \t\tareaCode: '',\r\n      \t\tpostalCode: '',\r\n      \t\tisDefault: ''\r\n      \t},\r\n\r\n\t\t\t\t//全国地址信息\r\n\t\t\t\tarea,\r\n\r\n\t\t\t\tchosenAddressId: '', //默认选择地址, 关联地址的id\r\n\r\n\t\t\t\t//当前用户的地址数据\r\n\t\t\t\taddressList: [],\r\n\r\n\t\t\t\t//用户id\r\n\t\t\t\tuserId: '',\r\n\r\n\t\t\t\t//删除页面的地址下标\r\n\t\t\t\tindex: -1,\r\n\r\n\t\t\t\tid: -1,\r\n\r\n\t\t\t\t//编辑地址数据\r\n\t\t\t\titem: {},\r\n\r\n\t\t\t\t//编辑或者新增地址的标记, -1: 新增, 0: 编辑\r\n\t\t\t\tisEdit: -1\r\n\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tcomponents: {\r\n\t\t\t'top-nav': TopNav,\r\n\t\t\t[AddressList.name]: AddressList,\r\n\t\t\t[Actionsheet.name]: Actionsheet,\r\n\t\t\t[AddressEdit.name]: AddressEdit \r\n\t\t},\r\n\r\n\t\tcreated() {\r\n\r\n\t\t\t//获取本地存储的地址管理数据\r\n\t\t\tvar addressData = localStorage.getItem('address');\r\n\r\n\t\t\taddressData = addressData == undefined ? [] : JSON.parse(addressData);\r\n\r\n\t\t\t//获取用户id\r\n\t\t\tthis.userId = JSON.parse(localStorage.getItem('userLogin')).userId;\r\n\r\n\t\t\t//筛选当前用户的地址\r\n\t\t\taddressData.forEach(v => {\r\n\t\t\t\tif (this.userId == v.userId) {\r\n\t\t\t\t\tif (v.isDefault) {\r\n\t\t\t\t\t\tthis.chosenAddressId = v.id;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.addressList.push(v);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t},\r\n\r\n\t\tmounted() {\r\n\t\t\tthis.$refs.add.lastChild.style.zIndex = 1999;\r\n\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\t//地址编辑\r\n\t\t\teditAddress(item, index) {\r\n\r\n\t\t\t\tthis.editShow = true;\r\n\r\n\t\t\t\tthis.index = index;\r\n\r\n\t\t\t\tthis.id = item.id;\r\n\r\n\t\t\t\tthis.item = item;\r\n\t\t\t},\r\n\r\n\t\t\t//新增地址\r\n\t\t\taddAddress() {\r\n\t\t\t\tthis.show = true;\r\n\t\t\t},\r\n\r\n\t\t\t//保存地址\r\n\t\t\tsave(data) {\r\n\t\t\t\t\r\n\t\t\t\t//获取本地存储的地址管理数据\r\n\t\t\t\tvar addressData = localStorage.getItem('address');\r\n\r\n\t\t\t\taddressData = addressData == undefined ? [] : JSON.parse(addressData);\r\n\r\n\t\t\t\tif (data.isDefault && addressData.length > 0) {\r\n\t\t\t\t\t//如果默认地址, 需要把当前用户地址的默认值设置为false\r\n\r\n\t\t\t\t\tfor (var i = 0; i < addressData.length; i++) {\r\n\t\t\t\t\t\tif (this.userId == addressData[i].userId && addressData[i].isDefault) {\r\n\r\n\t\t\t\t\t\t\taddressData[i].isDefault = false;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t//如果是新增地址\r\n\t\t\t\tif (this.isEdit == -1) {\r\n\t\t\t\t\tvar time = new Date();\r\n\r\n\t\t\t\t\t//生成地址id, 加盐(撒盐)\r\n\t\t\t\t\tvar addressId = 'address' + time.getTime();\r\n\r\n\t\t\t\t\tdata.userId = this.userId;\r\n\r\n\t\t\t\t\tdata.id = addressId;\r\n\r\n\t\t\t\t\tdata.addTime = date.format(time, 'yyyy-MM-dd hh:mm:ss');\r\n\r\n\t\t\t\t\tdata.editTime = '';\r\n\r\n\t\t\t\t\tdata.address = data.province + data.city + data.county + data.addressDetail;\r\n\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\taddressData.push(data);\r\n\r\n\t\t\t\t\t//将当前地址添加到页面上\r\n\t\t\t\t\tif (data.isDefault) {\r\n\t\t\t\t\t\tfor (var i = 0; i < this.addressList.length; i++) {\r\n\t\t\t\t\t\t\tif (this.addressList[i].isDefault) {\r\n\t\t\t\t\t\t\t\tthis.addressList[i].isDefault = false;\r\n\t\t\t\t\t\t\t\tthis.chosenAddressId = addressId;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.addressList.push(data);\r\n\t\t\t\t} else if (this.isEdit == 0) {\r\n\t\t\t\t\t//编辑地址\r\n\t\t\t\t\tfor (var j = 0; j < addressData.length; j++) {\r\n\t\t\t\t\t\tif (addressData[j].id == data.id) {\r\n\t\t\t\t\t\t\tfor (var k in data) {\r\n\t\t\t\t\t\t\t\taddressData[j][k] = data[k];\r\n\t\t\t\t\t\t\t\tthis.item[k] = data[k];\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (data.isDefault) {\r\n\t\t\t\t\t\t\t\tthis.chosenAddressId = data.id;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.item.address = data.province + data.city + data.county + data.addressDetail;\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlocalStorage.setItem('address', JSON.stringify(addressData));\r\n\r\n\t\t\t\tthis.show = false;\r\n\r\n\t\t\t\tfor (var key in this.addressInfo) {\r\n\t\t\t\t\tthis.addressInfo[key] = '';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.isEdit = -1;\r\n\r\n\t\t\t},\r\n\r\n\t\t\t//删除和编辑地址\r\n\t\t\tonSelect(item, index) {\r\n\t\t\t\tif (index === 0) {\r\n\t\t\t\t\t//编辑地址\r\n\t\t\t\t\tthis.show = true;\r\n\r\n\t\t\t\t\tfor (var key in this.addressInfo) {\r\n\t\t\t\t\t\tthis.addressInfo[key] = this.item[key];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.isEdit = index;\r\n\r\n\t\t\t\t} else if (index === 1) {\r\n\t\t\t\t\t//删除地址\r\n\t\t\t\t\tthis.addressList.splice(this.index, 1);\r\n\r\n\t\t\t\t\t//获取本地存储的地址管理数据\r\n\t\t\t\t\tvar addressData = JSON.parse(localStorage.getItem('address'));\r\n\r\n\t\t\t\t\tfor (var i = 0; i < addressData.length; i++) {\r\n\t\t\t\t\t\tif (addressData[i].id == this.id) {\r\n\t\t\t\t\t\t\taddressData.splice(i, 1);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlocalStorage.setItem('address', JSON.stringify(addressData));\r\n\r\n\t\t\t\t\tthis.isEdit = 1;\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tthis.editShow = false;\r\n\t\t\t},\r\n\r\n\t\t\t//修改默认地址\r\n\t\t\ttoggleDefault() {\r\n\t\t\t\t//获取本地存储的地址管理数据\r\n\t\t\t\tvar addressData = JSON.parse(localStorage.getItem('address'));\r\n\r\n\t\t\t\tfor (var i = 0; i < addressData.length; i++) {\r\n\t\t\t\t\tif (this.userId == addressData[i].userId && addressData[i].isDefault) {\r\n\t\t\t\t\t\taddressData[i].isDefault = false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (var j = 0; j < addressData.length; j++) {\r\n\t\t\t\t\tif (this.chosenAddressId == addressData[j].id) {\r\n\t\t\t\t\t\taddressData[j].isDefault = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlocalStorage.setItem('address', JSON.stringify(addressData));\r\n\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Address.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Address.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Address.vue?vue&type=template&id=00a0c69e&scoped=true&\"\nimport script from \"./Address.vue?vue&type=script&lang=js&\"\nexport * from \"./Address.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00a0c69e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}